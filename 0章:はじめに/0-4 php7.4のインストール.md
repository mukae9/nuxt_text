# PHP7.4をインストール！
今回の教材ではLaravel7を使用するためPHP7.2.5以上が必須となります。
LaravelはPHPのフレームワークですので当然にPHPのバージョンの制約を受けることになります。もしPHP7.1などしか入ってない状態でこのLaravel7を使おうとすると、一定の場面でエラーが発生します。
今後もLaravelのバージョンが上がっていくと思いますが、合わせて必要とされるPHPのバージョンも上がっていくと思われるので自分のパソコンのPHPの上げ方は覚えておきましょう。

### tips > サーバーのPHPのバージョンについて
今からPHPをダウンロードしますが、これはローカル環境（自分のパソコン）でのPHPの話です。
もしLaravel7を使ってローカル環境で開発を進めて最後の最後で「公開予定のサーバーのPHPバージョンは7.1.4です。」と言う話になると割と目も当てられない状態になります。公開を考えている場合は必ずサーバーのPHPバージョンも確認しておきましょう。


## 実際にインストールを開始します
1. まずは自分のローカル環境のphpのバージョンを確認しておきましょう。
```
$ php -v

```
このコマンドを打つと以下のようなメッセージが表示されるかと思います。

[![Image from Gyazo](https://i.gyazo.com/5c5c986e9828ebf931d38c897a9b4d48.png)](https://gyazo.com/5c5c986e9828ebf931d38c897a9b4d48)

この画像はPHP7.3がインストールすることが分かります。この時点でPHP7.2.5以上が入っているのであればこの教材に限ってはPHPのアップデートを行う必要はありません。
これ以降はスルーして次の項目へ進んでもらっても大丈夫です。

2. Homebrewでインストール出来るPHPのバージョンを確認します。

brew特有のコマンドでインストール出来るphpの7.Xのバージョンを探します。

```
$ brew search php@7

```
このコマンドを打つと以下のようなメッセージが表示されるかと思います。

[![Image from Gyazo](https://i.gyazo.com/4572b70ed550e55c55983419e71cb803.png)](https://gyazo.com/4572b70ed550e55c55983419e71cb803)

執筆時点でphp7.2、php7.3、php7.4がインストール出来ることが分かります。
せっかくなので最新のphp7.4をインストールしましょう。


3. php7.4をインストールします。

Homebrewが簡単にやってくれます。以下のコマンドを実行しましょう。

```
$ brew install php@7.4

```
少しダウンロードに時間がかかります。
ビールの絵文字が出てきたらうまくいっている証拠です。
インストールが
たくさん文字が出てきますが、以下のような記述を探してください。

```
If you need to have php@7.4 first in your PATH run:
  echo 'export PATH="/usr/local/opt/php@7.4/bin:$PATH"' >> ~/.bash_profile
  echo 'export PATH="/usr/local/opt/php@7.4/sbin:$PATH"' >> ~/.bash_profile

```

上記の通り、
新しくインストールしたphp@7.4のパスを通す必要があります。
「パスを通す」と言う単語がよく意味が分からないかもしれませんが、今インストールしたPHP7.4をどんなところでも使用できるようにしておくというイメージです。
この処理をしないとphp@7.4をパソコンにインストールしただけで使わないことになってしまいます。

homebrewが上記の通りやることを表示してくれているので、
上記をターミナルに打ち込みます。

```
  echo 'export PATH="/usr/local/opt/php@7.4/bin:$PATH"' >> ~/.bash_profile

```
```
  echo 'export PATH="/usr/local/opt/php@7.4/sbin:$PATH"' >> ~/.bash_profile

```
これで完了です。
新しいPHPバージョンを反映させるために

```
$ brew services start php

```

を打ち込みます。

その後一旦ターミナルを完全終了させます。
（command+Qなどでしっかり終了させてください。）

Vscodeなどですでにターミナルを使用している場合も一旦閉じて上げないと、古いバージョンのPHPを読み込んだままになってしまいますので注意してください。

それではもう一度ターミナルを起動させます。

そして、最初でphpのバージョンを確認した方法で、

```
$ php -v

```
phpのバージョンを確認すると、


[![Image from Gyazo](https://i.gyazo.com/b1a1a6d231e06558860f895735e1957f.png)](https://gyazo.com/b1a1a6d231e06558860f895735e1957f)

無事PHP7.4がインストールされていることが分かります。
これでローカル環境での最新バージョンのインストールが完了しました。

> 次の項目でいよいよLaravel環境のインストールの開始です！
